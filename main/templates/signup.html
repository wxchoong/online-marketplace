{% extends 'layout.html' %}

{% block body %}

<div class="justify-content-md-center">
<div class="container site-slogan">
<form class="form-signup">
	<div class="text-center">
  <img class="mb-4" src="{{url_for('static', filename='assets/dist/images/logo-large.png')}}" alt="" width="72" height="72">
  <h1 class="h3 mb-3 font-weight-normal">Sign Up</h1>
  </div>
  
  <div class="row">
	<div class="col">
		<label for="inputFName" >First Name <span style="color:red">*</span></label>
		<input type="text" id="inputFirstName" class="form-control" placeholder="First Name" required autofocus>
	</div>
	<div class="col">
		<label for="inputLName" >Last Name <span style="color:red">*</span></label>
		<input type="text" id="inputLastName" class="form-control" placeholder="Last Name" required>
	</div>
  </div>
  
  <div class="row">
	<div class="col">
		<label for="inputEmail" >Email address <span style="color:red">*</span></label>
		<input type="email" id="inputEmail" class="form-control" placeholder="Email address" required>
	</div>
	<div class="col">
		<label for="inputPhone" >Phone Number <span style="color:red">*</span></label>
		<input type="number" id="inputPhone" class="form-control" placeholder="98765432" required>
	</div>
  </div>
  
  <div class="row">
	<div class="col">
		<label for="inputPassword" >Password <span style="color:red">*</span></label>
		<input type="password" id="inputPassword" class="form-control" placeholder="Password" required>
	</div>
	<div class="col">
	</div>
  </div>
  
  <div class="row">
	<div class="col">
		<label for="inputAddress" >Address <span style="color:red">*</span></label>
		<textarea rows="2" id="inputAddress" class="form-control" placeholder="e.g. BLK 01, #01-01, Clementi Road..." required></textarea>
	</div>
	<div class="col">
		<label for="inputPostal" >Postal Code <span style="color:red">*</span></label>
		<input type="number" id="inputPostal" class="form-control" placeholder="123456" required>
	</div>
  </div>
  
  <div class="row text-center">
	<div class="col">
		<a class="btn btn-lg btn-block mybtn" id="register">Sign Up</a>
		<p class="mt-3 mb-3 text-muted">Already a member? <a href="/login">Log In</a></p>
	</div>
  </div> 
  
</form>
</div>
</div>
<script type="text/javascript" src="{{ url_for('static', filename='assets/dist/js/3.4.1_jquery.min.js') }}"></script>
<!-- <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script> -->
 <!-- <script>window.jQuery || document.write('<script src="../assets/js/vendor/jquery.slim.min.js"><\/script>')</script><script src="{{url_for('static', filename='assets/dist/js/bootstrap.bundle.min.js')}}"></script>-->

<script>
var register = document.getElementById("register");
var inputFirstName = document.getElementById("inputFirstName");
var inputLastName = document.getElementById("inputLastName");
var inputEmail = document.getElementById("inputEmail");
var inputPhone = document.getElementById("inputPhone");
var inputPassword = document.getElementById("inputPassword");
var inputAddress = document.getElementById("inputAddress");
var inputPostal = document.getElementById("inputPostal");

register.onclick = function(){
	console.log('clicked');
		registerGo();
}

function registerGo(){
	$.ajax({
	data : 
	{
		'cust_email':inputEmail.value,
		'cust_firstName' : inputFirstName.value,
		'cust_lastName' : inputLastName.value, 
		'cust_phone':inputPhone.value, 
		'cust_pwd' : inputPassword.value, 
		'cust_addr':inputAddress.value, 
		'cust_postal' : inputPostal.value
	},
    type : 'POST',
		url : '/register'
    })
    .done(function(data){
      if(data.status == 'success'){
		  // flash a success, redirec to main page, flash data.message if possible
		  location.replace(location.origin.toString()+"/login");
      }
      else{
		  //show failed and display message frm data.message
      }
  });
}
</script>
{% endblock %}
